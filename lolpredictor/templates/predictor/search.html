{% extends "base.html" %}

{% block title %}
	{% if summoner %}
		{{ summoner.name }} <small>(#{{ summoner.summoner_id }})</small>
	{% elif query %}
		<small>No results found for</small> {{ query }}
	{% else %}
		Search a summoner
	{% endif %}
{% endblock %}

{% block content %}
	{% if summoner %}
		Tier: {{ summoner.tier }}<br />
		Rank: {{ summoner.rank }}<br />
		Hotstreak: {{ summoner.hotstreak }}<br />
		Updated at: {{ summoner.updated_at|date:"Y-m-d" }}<br />
		<br />

		<table class="table">
			<thead>
				<tr>
					<th>Champion</th>
					<th># Plays</th>
					<th>Avg. Kills</th>
					<th>Avg. Deaths</th>
					<th>Avg. Assists</th>
					<th>Avg. Gold</th>
				</tr>
			</thead>
			<tbody>
				{% for champion in championPlayed %}
					<tr>
						<td>{{ champion.champion.name }}</td>
						<td>{{ champion.nr_gameswithchamp }}</td>
						<td>{{ champion.average_kills }}</td>
						<td>{{ champion.average_deaths }}</td>
						<td>{{ champion.average_assists }}</td>
						<td>{{ champion.average_gold }}</td>
					</tr>
				{% endfor %}
			</body>
		</table>
	{% else %}
		<div class="row">
			<div class="col-sm-6 col-md-6">
				<form role="form" action="/predictor/search/">
					<div class="input-group">
						<input type="text" class="form-control" placeholder="Summoner Name" name="sn" {% if query %}value="{{ query }}"{% endif %}>
						<div class="input-group-btn">
							<button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
						</div>
					</div>
				</form>
			</div>
		</div>
	{% endif %}
{% endblock %}